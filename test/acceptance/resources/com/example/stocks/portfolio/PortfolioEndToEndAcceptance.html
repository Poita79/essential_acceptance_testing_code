<html>
<head>
    <title>Portfolio Valuation - System Test</title>
    <link rel="stylesheet" href="../../../../concordion.css" type="text/css"/>
    <script src="../../../../jquery-1.9.1.js">.</script>
    <script type="text/javascript" src="../../../../specifications.js">.</script>
</head>
<body onload="toggleImplementationNotes();">
<h1>Portfolio Valuation</h1>
<h2>System (end-to-end) Test  <img style="cursor:pointer" onclick="toggleImplementationNotes();" src="../../../../info.jpg" width="18px" height="18px" alt="Implementations notes" name="Toggle details"/></h2>

<div class="implementation-notes">
    <div class="information">
        <h3>Implementation notes</h3>

        <p>
            This test falls into the "system" test category. It's implemented using coarse grained components; it starts
            up the full application and uses a test double to control the market data service.
        </p>
        <p>
            <img src="system-test.png" width="315px" height="70px" border="1px"/>
        </p>
    </div>
</div>

<p>
    As a retail customer, when I ask for my portfolio's value, yesterday's stock price is retrieved from the market,
    multiplied by the number of stocks I own and the total is displayed.
</p>

<div class="example">
    <h2>Given</h2>

    <p>
        A customer book containing <b>100</b> shares in <b>AMZN</b> and yesterday's stock price for <b>AMZN</b> was <b>261.82</b>,
    </p>

    <h2>When</h2>

    <p>
        The user requests a valuation,
    </p>

    <h2>Then</h2>

    <p>
        The total portfolio value of <b>26,185</b> is displayed.
    </p>
</div>

<p>As a retail customer, when I ask for my portfolio's value, but market data is not available, I want to be informed
    that a problem prevented me from getting the valuation.</p>

<div class="example">
    <h2>Given</h2>

    <p>
        Yesterday's stock prices are <b>unavailable</b> (market data services are down),
    </p>

    <h2>When</h2>

    <p>
        The user requests a valuation,
    </p>

    <h2>Then</h2>

    <p>
        The total portfolio value of is <b>not displayed</b> and an <b>error messaging indicating the problem is
        displayed</b>.
    </p>
</div>

<div class="information">
    <h3>Further information</h3>
    <ul>
        <li><a href="index.html">Overview</a></li>
    </ul>
</div>

</body>
</html>